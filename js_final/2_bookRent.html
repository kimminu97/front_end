<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day4_쇼핑몰 회원관리</title>
    <link rel="stylesheet" href="0_hrdkorea.css">
    
</head>
<body>
    <header>
        <h4 class="header-item">도서대여 시스템 ver1.0</h4>
</header>
<nav>
    <ul class="container">
        <li><a href="4_memberReg.html" >회원등록</a></li>
        <li><a href="5_memberList.html">회원목록조회/수정</a></li>
        <li><a href="6_bookReg.html" >도서등록</a></li>
        <li><a href="7_bookList.html">도서목록조회/수정</a></li>
        <li><a href="2_bookRent.html">도서대여</a></li>
        <li><a href="3_bookReturn.html">도서반납</a></li>
        <li><a href="1_home.html">홈으로</a></li>
    </ul>
</nav>
    

    <section style="padding-bottom: 300px;">
        <h4 style="text-align: center;">도서대여</h4>
       <form action="" > 
           <!-- action 설정된 url로 입력요소에 작성된 데이터를 서버로 전송
                form 태그 속성 method="post" 있을때 와 없을때 차이점이 있습니다. -->
           <table style="width: 70%;margin:auto">
               <tr>
                   <td class="col1_title">대여NO</td>
                   <td><input type="text"name="rentno"size="17" placeholder="자동생성"></td> <!-- 입력요소 데이터 식별하는 속성은 name -->
               </tr>
               <tr>
                <td class="col1_title">회원번호</td>
                <td><input type="text"name="idno" size="17" placeholder="회원번호 입력"></td>
                <!-- required="redquired 간단히 표현" -->
            </tr>
            <tr>
                <td class="col1_title">도서코드</td>
                <td><input type="text"name="bookno" size="17" placeholder="도서코드 입력">
                    </td>
            </tr>
            <tr>
                <td class="col1_title">대여일자</td>
                <td><input type="date"name="rent_date" id="rent_date">
                    <input type="button" value="대여" onclick="valid_check()" ></td>
            </tr>
            <tr>
                <td class="col1_title">반납예정일자</td>
                <td><input type="date"name="return_date" id="return_date"></td>
            </tr>
           </table>
       </form>
    </section>
    <footer>
        HRDKREA Copyright&copy2022 All rigths reserved. Human Resources Develpment Service of Korea;
    </footer>
    <script>
        //2) 대여일자는 오늘날짜로 자동 출력
        // document.getElementById('rent_date').valueAsDate=new Date()
        temp=new Date()
        const year = temp.getFullYear();
            const month = (temp.getMonth()+1).toString().padStart(2,0);
            const date_ = temp.getDate().toString().padStart(2,0);
            document.forms[0].rent_date.value=[year,month,date_].join('-')
        
        //1) 회원번호, 도서코드 필수입력 유효성 검사
        //3)대여버튼 클릭시 반납예정일자 계산, 화면 알림 출력
        function valid_check(){
            const frm = document.forms[0];
               const idno_ = frm.idno;  
               const bookno_ = frm.bookno;
               const return_date_ = frm.return_date;
               let isValid = true;

            if(idno_.value == ""){
            alert('회원번호 입력은 필수입니다.')
            name_.focus();
            isValid=false;
        } else if(bookno_.value==""){
            alert('도서코드 입력은 필수입니다.')
            bookno_.focus();
            isValid=false;
        }else 
            temp.setDate(temp.getDate()+14)
            const year = temp.getFullYear();
            const month = (temp.getMonth()+1).toString().padStart(2,0);
            const date_ = temp.getDate().toString().padStart(2,0);
            return_date_.value=[year,month,date_].join('-')
            alert(`반납예정일자는 ${[year,month,date_].join('-')} 입니다`)
        }
        
      
    </script>
</body>
</html>